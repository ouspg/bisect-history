# bisect-history
A tool for approximating the change of the specified attribute in the history of the Git repository.

The goal is to approximate the change of the given attribute overtime.
The seleceted history range is inspected by started by analysing the first and last comment of the range.
After that given number of iterations is done by splitting the ranges if the attribute differs in the endpoints.
The aim is to narrow down the commits which affect the targeted attribute.

The tool checkouts the commits it wants to analyze.
The attribute is evaluated by the analyzer provided by the user and the tool stores the result of the evaluation.


## Installation
```
lein uberjar
```

## Usage
Usage: bisect-history options ANALYZER_CLJ  [ANALYZER_ARGS...]

## Options
  -n, --number N           number of commits to inspect
  -d, --divisions D   3    max number of divisions
  -s, --short              print short summary
  -f, --file FILE          use list of commits instead of the history of master
  -h, --help               show help

## Examples

**utils/scan-build-analyzer.clj** is a analyzer which takes a bash script and output directory as parameters.
It runs the bash script in a subprocess and parses the output for scan-build warnings/errors and reports the occurences.
The warnings and errors are cached in the specified directory.

Using bisect-history with scan-build-analyzer gives you an estimate how the number of the warnings generated by the static analyzer of clang have changed over time.

```
cd path/to/project
mkdir bishis # folder where scan-build-analyzer.clj caches analysis results
# absolute paths might have to be used
java -jar bisect_history-0.1.0-SNAPSHOT-standalone.jar -n 200 -d3 \
utils/scan-build-analyzer.clj simplemake.sh bishis

Example output showing the number of warnings at each commit.
Pipes illustrate the intermediate nodes where the attribute is assumed to have remained the same.

uef3bf7fe1eeff00b85bc99e39dec94d0a618d07 132
056590e1ef39ef6a532456f74530206605ea60a8 |
79c3ff24ebed587603486cc36b8f9988fcb31867 |
4a1ada9d0283691bbdc170d83435a8ca84e9ee7d |
29dc06ee8d05993b954164e980a6f6e599ec4f9a |
9352c9eb151dfc678a8c1eaca14111cbe64b55eb 132
fd4d7614bed005a41dfe3fb26114521a677878ef 146
fab126664374433d81aaed4129977a9f276fa97d 134
b94d527ec1b0f0833fec368b524a97e9c9141ab8 |
0610bb035795f352dac1a7accc7b393b5fba399e |
56090dac31de59151237e962cb31fafc87275924 134
f3cc603cccd766212aba1627ef78baaca374582e 158
faaa1dc1caf29cf642a5397b08af9c800794b6dc |
1613768765a561009c9b4b1d3822c1e7bc7765c3 |
b54e8c22274cdb37eb03cf249f5ae59a52832e25 158
